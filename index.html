<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Escalonador de Processos</title>
  <link rel="stylesheet" href="css.css">
</head>

<body>

  <h1 style="text-align: center">Escalonador de Processos</h1>  

  <div id="formularios">
    <form>
      <p>Escolha o tipo de processamento:</p>
      <br>
      <input type="radio" name="tipo_processamento" value="round_robin">
      <label for="round_robin">Round Robin (RR)</label>
      <br>
      <input type="radio" name="tipo_processamento" value="sjf">
      <label for="sfj">Shrtest-Job-First (SFJ)</label>
      <br>
      <input type="radio" name="tipo_processamento" value="prioridade">
      <label for="prioridade">Por prioridade (preemptiva)</label>
    </form>

    <form>
      <br>    
      <p>Adicione um processo:</p> 
      <br>
      <label>Nome:</label>     
      <input type="text" id="nome">    
      <br>    
      <br>      
      <label>Duração (ciclos de máquina):</label>
      <input type="text" id="duracao">           
      <br>   
      <br> 
    </form>   

    <button type="button" onclick="adicionarProcesso()">Adicionar</button>  
    
      <br>       
      <br>       

    <br>       

  </div>

  <div id="div_processos"></div>

  <script>
    let processos = [];
    
    function adicionarProcesso() {
      let processo = {
        nome: document.getElementById("nome").value,
        duracao: parseInt(document.getElementById("duracao").value)
      }

      processos.push(processo);

      atualizarDivProcessos();
    }

    function ordenarProcessos() {
      processos.sort((a, b) => a.duracao - b.duracao);
    }

    function atualizarDivProcessos() {

      let frag = document.createDocumentFragment();
      let table = document.createElement("table");
      table.className = "processo";

      let thead = document.createElement("thead");
      let th1 = document.createElement("th");
      th1.innerHTML = "Nome";
      let th2 = document.createElement("th");
      th2.innerHTML = "Duração";

      thead.appendChild(th1);
      thead.appendChild(th2);
      table.appendChild(thead);

      let tbody = document.createElement("tbody");

      processos.forEach(processo => {
        let tr = document.createElement("tr");

        let tdNome = document.createElement("td");
        tdNome.innerHTML = processo.nome;
        tr.appendChild(tdNome);

        let tdDuracao = document.createElement("td");
        tdDuracao.innerHTML = processo.duracao;
        tr.appendChild(tdDuracao);

        tbody.appendChild(tr);
      });

      table.appendChild(tbody);
      frag.appendChild(table);
      divProcessos.appendChild(frag);
    }
  </script>  

  <br> 
  <div> 
    <br>
    <br>
    <br>
    <footer class="rodape">Desenvolvido por: Alani Rigotti de Oliveira, Luana Schmidt e Mateus Maas.</footer>
  </div>
</body>  
</html>

